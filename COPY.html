<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo de Copy para Cobran√ßa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Subtle Blue -->
    <!-- Application Structure Plan: A multi-section, single-page application designed for topic exploration. The structure is thematic, not linear, to allow users to dive into specific areas of interest (Psychology, Process, Strategy, Resources) as needed. This is more effective than a simple document because it organizes complex information into manageable, interactive chunks. The user flow is guided by a main navigation, leading to sections with interactive cards, a clickable process funnel, and charts. This facilitates learning and quick referencing, which is ideal for someone building an AI knowledge base. -->
    <!-- Visualization & Content Choices: 
        - Cialdini's Principles: Report Info -> 6 principles of persuasion. Goal -> Inform/Organize. Method -> Interactive HTML cards. Interaction -> Click to reveal details. Justification -> Breaks down core psychological theories into digestible pieces. Method -> HTML/CSS/JS.
        - Collection Funnel: Report Info -> Stages of collection. Goal -> Show a process. Method -> Visual funnel diagram. Interaction -> Click on a stage to see its specific objectives, tone, and copy examples. Justification -> Provides a clear, actionable framework for applying techniques at the right time. Method -> HTML/CSS/JS.
        - Channel Effectiveness: Report Info -> Best channels for contact. Goal -> Compare. Method -> Bar Chart. Interaction -> Hover tooltips for details. Justification -> A bar chart provides an immediate visual comparison of channel performance. Library -> Chart.js.
        - Core Resources: Report Info -> Request for book references. Goal -> Inform. Method -> Grid of book "covers". Interaction -> Click to see summary and relevance. Justification -> More engaging and visually organized than a simple list. Method -> HTML/CSS/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 700px; margin-left: auto; margin-right: auto; height: 350px; max-height: 450px; }
        .nav-link { transition: all 0.3s ease; }
        .nav-link.active { color: #0c4a6e; border-bottom-color: #0c4a6e; }
        .nav-link:not(.active) { border-bottom-color: transparent; }
        .funnel-stage { transition: all 0.3s ease; clip-path: polygon(0 0, 100% 0, 90% 100%, 10% 100%); }
        .funnel-stage:hover { transform: scale(1.05); }
        .book-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .book-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
        .section-fade-in { animation: fadeIn 0.8s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div id="app" class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-sky-900 mb-2">Base de Conhecimento para Copy de Cobran√ßa</h1>
            <p class="text-lg text-stone-600 max-w-3xl mx-auto">Um guia interativo com princ√≠pios de persuas√£o, estrat√©gias e t√°ticas para criar comunica√ß√µes que convertem.</p>
        </header>

        <nav class="flex justify-center border-b border-stone-200 mb-12">
            <button data-target="section-fundamentos" class="nav-link text-stone-600 hover:text-sky-800 font-medium py-4 px-6 border-b-2 active">Fundamentos</button>
            <button data-target="section-funil" class="nav-link text-stone-600 hover:text-sky-800 font-medium py-4 px-6 border-b-2">Funil de Cobran√ßa</button>
            <button data-target="section-estrategias" class="nav-link text-stone-600 hover:text-sky-800 font-medium py-4 px-6 border-b-2">Estrat√©gias</button>
            <button data-target="section-recursos" class="nav-link text-stone-600 hover:text-sky-800 font-medium py-4 px-6 border-b-2">Recursos</button>
        </nav>

        <main>
            <section id="section-fundamentos" class="app-section section-fade-in">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-sky-900 mb-2">Psicologia da Persuas√£o na Cobran√ßa</h2>
                    <p class="text-md text-stone-600 max-w-2xl mx-auto">A base de uma cobran√ßa eficaz n√£o est√° na press√£o, mas na compreens√£o do comportamento humano. Esta se√ß√£o explora os gatilhos mentais de Robert Cialdini, adaptados para o contexto de negocia√ß√£o de d√≠vidas. Use estes princ√≠pios para construir uma abordagem mais emp√°tica e eficiente.</p>
                </div>
                <div id="principles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"></div>
                <div id="principle-details" class="mt-8 bg-white p-6 rounded-lg shadow-sm border border-stone-200 min-h-[200px]">
                    <p class="text-stone-500 text-center py-16">Selecione um princ√≠pio acima para ver os detalhes e exemplos.</p>
                </div>
            </section>

            <section id="section-funil" class="app-section hidden section-fade-in">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-sky-900 mb-2">O Funil de Cobran√ßa Interativo</h2>
                    <p class="text-md text-stone-600 max-w-2xl mx-auto">Cada est√°gio da inadimpl√™ncia exige uma abordagem diferente. Este funil visualiza a jornada do cliente devedor, desde um simples lembrete at√© a negocia√ß√£o final. Clique em cada est√°gio para entender o objetivo, o tom ideal e ver exemplos de copy para aplicar em cada momento.</p>
                </div>
                <div class="flex flex-col items-center mb-8">
                    <div id="funnel-container" class="w-full max-w-xs space-y-1"></div>
                </div>
                <div id="funnel-details" class="mt-8 bg-white p-6 rounded-lg shadow-sm border border-stone-200 min-h-[200px]">
                     <p class="text-stone-500 text-center py-16">Selecione um est√°gio do funil para ver a estrat√©gia correspondente.</p>
                </div>
            </section>

            <section id="section-estrategias" class="app-section hidden section-fade-in">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-sky-900 mb-2">Estrat√©gias de Canal e Conte√∫do</h2>
                    <p class="text-md text-stone-600 max-w-2xl mx-auto">O sucesso da cobran√ßa depende de enviar a mensagem certa, no canal certo. Esta se√ß√£o apresenta um comparativo da efic√°cia dos canais de comunica√ß√£o em diferentes fases da cobran√ßa e uma matriz de conte√∫do para ajudar a estruturar suas mensagens de forma clara e objetiva.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 mb-8">
                    <h3 class="text-xl font-bold text-sky-800 mb-4 text-center">Efic√°cia de Canais por Est√°gio do Funil</h3>
                    <div class="chart-container">
                        <canvas id="channelsChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="section-recursos" class="app-section hidden section-fade-in">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-sky-900 mb-2">Recursos Essenciais e Leituras</h2>
                     <p class="text-md text-stone-600 max-w-2xl mx-auto">Para aprofundar seu conhecimento em persuas√£o, negocia√ß√£o e comunica√ß√£o, esta √© uma sele√ß√£o de livros fundamentais. As ideias contidas aqui s√£o a base para qualquer estrat√©gia de comunica√ß√£o de alto impacto. Clique em cada livro para um resumo e sua aplica√ß√£o na cobran√ßa.</p>
                </div>
                <div id="books-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            </section>
        </main>
        
        <footer class="text-center mt-16 pt-8 border-t border-stone-200">
            <p class="text-sm text-stone-500">&copy; 2025 - Guia Interativo V4 Company. Desenvolvido para capacitar a comunica√ß√£o estrat√©gica.</p>
        </footer>
    </div>
    
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4">
        <div id="modal-content" class="bg-white rounded-lg shadow-2xl p-8 max-w-lg w-full relative">
            <button id="modal-close" class="absolute top-4 right-4 text-stone-500 hover:text-stone-800">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const data = {
                principles: [
                    { 
                        id: 'reciprocidade', 
                        name: 'Reciprocidade', 
                        icon: 'ü§ù',
                        description: 'As pessoas tendem a retribuir favores. Oferecer algo de valor primeiro (um desconto, um prazo estendido, uma op√ß√£o de parcelamento facilitada) pode aumentar significativamente a chance de o cliente "retribuir" com o pagamento.',
                        example: 'Ol√°, [Nome]! Para te ajudar a regularizar sua situa√ß√£o, preparamos uma condi√ß√£o especial: pague at√© [Data] e receba 15% de desconto no valor total. Aproveite essa oportunidade para ficar em dia.'
                    },
                    { 
                        id: 'compromisso', 
                        name: 'Compromisso e Coer√™ncia', 
                        icon: 'üìù',
                        description: 'Uma vez que as pessoas se comprometem com algo, elas s√£o mais propensas a seguir com a a√ß√£o para se manterem coerentes. Busque pequenos "sims". Pergunte se o cliente concorda que regularizar a situa√ß√£o √© o melhor caminho antes de apresentar a solu√ß√£o.',
                        example: 'Entendemos que imprevistos acontecem. Voc√™ concorda que encontrar uma solu√ß√£o para essa pend√™ncia seria bom para ambos? Temos uma proposta de parcelamento que pode te ajudar. Posso apresentar?'
                    },
                    { 
                        id: 'prova-social', 
                        name: 'Prova Social', 
                        icon: 'üë•',
                        description: 'As pessoas olham para o comportamento dos outros para guiar suas pr√≥prias a√ß√µes, especialmente em situa√ß√µes de incerteza. Mostrar que outros clientes em situa√ß√£o similar resolveram suas pend√™ncias pode encorajar a a√ß√£o.',
                        example: 'Ol√°, [Nome]. Muitos clientes que passaram por uma situa√ß√£o parecida aproveitaram nossa condi√ß√£o de parcelamento em at√© 10x para organizar as finan√ßas. Essa tamb√©m pode ser uma √≥tima op√ß√£o para voc√™.'
                    },
                    { 
                        id: 'autoridade', 
                        name: 'Autoridade', 
                        icon: '‚öñÔ∏è',
                        description: 'As pessoas s√£o mais propensas a seguir a orienta√ß√£o de figuras de autoridade. A comunica√ß√£o deve ser profissional e vir de um lugar de legitimidade (a empresa), mas sem ser amea√ßadora. O tom √© de especialista em solu√ß√µes, n√£o de cobrador.',
                        example: 'Comunicado do nosso setor financeiro: identificamos uma pend√™ncia em seu cadastro. Para evitar restri√ß√µes e manter seu acesso, por favor, regularize sua situa√ß√£o atrav√©s deste link seguro: [Link].'
                    },
                    { 
                        id: 'afinidade', 
                        name: 'Afinidade', 
                        icon: 'üòä',
                        description: 'As pessoas preferem dizer "sim" para quem elas gostam e conhecem. Crie uma conex√£o genu√≠na. Use o nome do cliente, mostre empatia e um desejo real de ajudar. Um tom amig√°vel e compreensivo quebra a resist√™ncia.',
                        example: 'Oi, [Nome], tudo bem? Notei que sua fatura de [M√™s] est√° em aberto. Quero entender se aconteceu algo e como podemos te ajudar a resolver isso da melhor forma. Estamos aqui por voc√™.'
                    },
                    { 
                        id: 'escassez', 
                        name: 'Escassez', 
                        icon: '‚è≥',
                        description: 'As oportunidades parecem mais valiosas quando sua disponibilidade √© limitada. Use a escassez de forma √©tica, focando em "perder" uma condi√ß√£o especial, e n√£o em amea√ßas.',
                        example: 'Ol√°, [Nome]! Sua condi√ß√£o especial de negocia√ß√£o com isen√ß√£o de juros expira em 48 horas. N√£o perca a chance de regularizar sua situa√ß√£o com o melhor benef√≠cio poss√≠vel. Acesse agora: [Link].'
                    }
                ],
                funnel: [
                    { 
                        stage: '1. Lembrete Amig√°vel', 
                        objective: 'Preven√ß√£o e cortesia. Lembrar o cliente do vencimento pr√≥ximo ou rec√©m-vencido de forma leve e prestativa.',
                        tone: 'Amig√°vel, prestativo, informativo, sem tom de cobran√ßa.',
                        example: 'Oi, [Nome]! S√≥ passando para lembrar que sua fatura no valor de R$ [Valor] vence amanh√£. Para facilitar, voc√™ pode pagar via Pix ou boleto aqui: [Link]. Qualquer d√∫vida, √© s√≥ chamar!',
                        color: 'bg-sky-200',
                        textColor: 'text-sky-800'
                    },
                    { 
                        stage: '2. Primeiro Contato (P√≥s-vencimento)', 
                        objective: 'Informar sobre o d√©bito em aberto e facilitar o pagamento imediato.',
                        tone: 'Direto, claro, sol√≠cito e emp√°tico. Assume-se que pode ter sido um esquecimento.',
                        example: 'Ol√°, [Nome]. Notamos que o pagamento de sua fatura de R$ [Valor] ainda n√£o foi identificado em nosso sistema. Pode ter sido um imprevisto! Para resolver, basta acessar o link: [Link]. Estamos √† disposi√ß√£o para ajudar.',
                        color: 'bg-amber-200',
                        textColor: 'text-amber-800'
                    },
                    { 
                        stage: '3. Insist√™ncia e Urg√™ncia', 
                        objective: 'Criar um senso de urg√™ncia moderado, destacando a import√¢ncia de resolver a pend√™ncia para evitar consequ√™ncias.',
                        tone: 'Firme, mas ainda educado. Foco na consequ√™ncia da ina√ß√£o (ex: bloqueio de servi√ßo, juros).',
                        example: '[Nome], sua pend√™ncia de R$ [Valor] continua em aberto. Para evitar a suspens√£o dos seus servi√ßos na pr√≥xima semana, regularize sua situa√ß√£o ainda hoje. Use este link para uma negocia√ß√£o r√°pida: [Link].',
                        color: 'bg-orange-300',
                        textColor: 'text-orange-900'
                    },
                    { 
                        stage: '4. Aviso Final (Pr√©-jur√≠dico)', 
                        objective: 'Deixar claro que esta √© a √∫ltima oportunidade de negocia√ß√£o amig√°vel antes de medidas mais s√©rias.',
                        tone: 'Formal, s√©rio e direto. Menciona as poss√≠veis consequ√™ncias de forma clara e objetiva (ex: negativa√ß√£o).',
                        example: 'NOTIFICA√á√ÉO EXTRAJUDICIAL: Prezado(a) [Nome], esta √© a √∫ltima tentativa de acordo amig√°vel referente ao d√©bito de R$ [Valor]. O n√£o pagamento em 72 horas poder√° acarretar no registro do seu CPF nos √≥rg√£os de prote√ß√£o ao cr√©dito. Negocie agora: [Link].',
                        color: 'bg-red-300',
                        textColor: 'text-red-900'
                    },
                    { 
                        stage: '5. Oferta de Acordo', 
                        objective: 'Recuperar o cliente e o valor, mesmo que parcial. Apresentar uma oferta irrecus√°vel para encerrar o ciclo de cobran√ßa.',
                        tone: 'Conciliador, flex√≠vel, focado na solu√ß√£o final. √â um reset na rela√ß√£o.',
                        example: '[Nome], queremos muito resolver sua situa√ß√£o. Temos uma proposta final e exclusiva para voc√™ quitar seu d√©bito de R$ [Valor] por apenas R$ [Valor com Desconto] √† vista, ou em parcelas que cabem no seu bolso. √â a sua chance de recome√ßar. Fale conosco: [Link].',
                        color: 'bg-emerald-300',
                        textColor: 'text-emerald-900'
                    }
                ],
                books: [
                    {
                        title: "As Armas da Persuas√£o",
                        author: "Robert B. Cialdini",
                        summary: "O livro fundamental sobre os 6 princ√≠pios da persuas√£o. √â a base te√≥rica para entender por que certas abordagens funcionam e outras n√£o. Essencial para construir qualquer copy que busque influenciar uma decis√£o.",
                        relevance: "Cada princ√≠pio (Reciprocidade, Coer√™ncia, Prova Social, Afinidade, Autoridade, Escassez) √© um pilar para a constru√ß√£o de mensagens de cobran√ßa que n√£o se baseiam em amea√ßas, mas em psicologia.",
                        color: "bg-sky-800"
                    },
                    {
                        title: "Negocie como se sua vida dependesse disso",
                        author: "Chris Voss",
                        summary: "Escrito por um ex-negociador de ref√©ns do FBI, este livro ensina t√©cnicas de negocia√ß√£o baseadas em empatia t√°tica, espelhamento e rotula√ß√£o de emo√ß√µes para criar confian√ßa e chegar a um 'sim'.",
                        relevance: "Transforma a cobran√ßa de uma transa√ß√£o fria em uma conversa. T√©cnicas como 'Parece que voc√™ est√° em uma situa√ß√£o dif√≠cil' podem desarmar o cliente e abrir portas para uma negocia√ß√£o real.",
                        color: "bg-stone-700"
                    },
                    {
                        title: "Como Fazer Amigos e Influenciar Pessoas",
                        author: "Dale Carnegie",
                        summary: "Um cl√°ssico sobre rela√ß√µes humanas. Ensina princ√≠pios atemporais sobre como se conectar com as pessoas, ser um bom ouvinte e apresentar suas ideias de forma que sejam bem recebidas.",
                        relevance: "Ajuda a criar o tom de voz da marca na cobran√ßa: emp√°tico, respeitoso e focado em ajudar, n√£o em confrontar. Lembra que por tr√°s de uma d√≠vida, existe uma pessoa.",
                        color: "bg-amber-600"
                    }
                ],
                 chartData: {
                    labels: ['1. Lembrete', '2. 1¬∫ Contato', '3. Urg√™ncia', '4. Aviso Final', '5. Acordo'],
                    datasets: [
                        {
                            label: 'WhatsApp',
                            data: [95, 90, 75, 50, 85],
                            backgroundColor: 'rgba(34, 197, 94, 0.7)',
                            borderColor: 'rgba(34, 197, 94, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'E-mail',
                            data: [80, 70, 65, 80, 75],
                            backgroundColor: 'rgba(59, 130, 246, 0.7)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        },
                         {
                            label: 'SMS',
                            data: [90, 85, 70, 60, 50],
                            backgroundColor: 'rgba(249, 115, 22, 0.7)',
                            borderColor: 'rgba(249, 115, 22, 1)',
                            borderWidth: 1
                        }
                    ]
                }
            };
            
            const principlesGrid = document.getElementById('principles-grid');
            const principleDetails = document.getElementById('principle-details');
            const funnelContainer = document.getElementById('funnel-container');
            const funnelDetails = document.getElementById('funnel-details');
            const booksGrid = document.getElementById('books-grid');
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');
            const modalClose = document.getElementById('modal-close');
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.app-section');

            function showSection(targetId) {
                sections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.remove('hidden');
                        section.classList.add('section-fade-in');
                    } else {
                        section.classList.add('hidden');
                    }
                });

                navLinks.forEach(link => {
                    if (link.dataset.target === targetId) {
                        link.classList.add('active', 'text-sky-900');
                    } else {
                        link.classList.remove('active', 'text-sky-900');
                    }
                });
            }

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    showSection(link.dataset.target);
                });
            });

            function displayPrinciples() {
                principlesGrid.innerHTML = data.principles.map(p => `
                    <div data-id="${p.id}" class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 cursor-pointer hover:shadow-lg hover:border-sky-300 transition-all duration-300">
                        <div class="flex items-center">
                            <span class="text-3xl mr-4">${p.icon}</span>
                            <h3 class="text-xl font-bold text-sky-800">${p.name}</h3>
                        </div>
                    </div>
                `).join('');
            }

            function displayPrincipleDetails(id) {
                const principle = data.principles.find(p => p.id === id);
                if (principle) {
                    principleDetails.innerHTML = `
                        <h3 class="text-2xl font-bold text-sky-900 mb-3 flex items-center"><span class="text-3xl mr-3">${principle.icon}</span> ${principle.name}</h3>
                        <p class="text-stone-600 mb-4">${principle.description}</p>
                        <div class="bg-stone-100 p-4 rounded-md border-l-4 border-sky-400">
                            <p class="font-semibold text-sm text-stone-700 mb-1">Exemplo de Copy:</p>
                            <p class="text-stone-600 italic">"${principle.example}"</p>
                        </div>
                    `;
                }
            }
            
            principlesGrid.addEventListener('click', (e) => {
                const card = e.target.closest('[data-id]');
                if (card) {
                    displayPrincipleDetails(card.dataset.id);
                     document.querySelectorAll('#principles-grid > div').forEach(div => div.classList.remove('ring-2', 'ring-sky-400'));
                    card.classList.add('ring-2', 'ring-sky-400');
                }
            });

            function displayFunnel() {
                funnelContainer.innerHTML = data.funnel.map(f => `
                    <div data-stage="${f.stage}" class="funnel-stage cursor-pointer ${f.color} ${f.textColor} w-full text-center py-3 px-2 font-bold rounded-sm shadow-sm">
                        ${f.stage}
                    </div>
                `).join('');
            }
            
            function displayFunnelDetails(stageName) {
                const stage = data.funnel.find(f => f.stage === stageName);
                if (stage) {
                    funnelDetails.innerHTML = `
                        <h3 class="text-2xl font-bold ${stage.textColor} mb-3">${stage.stage}</h3>
                        <div class="mb-4">
                            <strong class="text-stone-700">Objetivo Principal:</strong>
                            <p class="text-stone-600">${stage.objective}</p>
                        </div>
                        <div class="mb-4">
                             <strong class="text-stone-700">Tom de Voz Ideal:</strong>
                            <p class="text-stone-600">${stage.tone}</p>
                        </div>
                        <div class="bg-stone-100 p-4 rounded-md border-l-4 ${stage.color.replace('bg-', 'border-')}">
                            <p class="font-semibold text-sm text-stone-700 mb-1">Exemplo de Copy:</p>
                            <p class="text-stone-600 italic">"${stage.example}"</p>
                        </div>
                    `;
                }
            }

            funnelContainer.addEventListener('click', e => {
                const stageEl = e.target.closest('[data-stage]');
                if (stageEl) {
                    displayFunnelDetails(stageEl.dataset.stage);
                     document.querySelectorAll('#funnel-container > div').forEach(div => div.classList.remove('ring-2', 'ring-offset-2', 'ring-gray-800'));
                    stageEl.classList.add('ring-2', 'ring-offset-2', 'ring-gray-800');
                }
            });
            
            function displayBooks() {
                booksGrid.innerHTML = data.books.map(b => `
                    <div data-title="${b.title}" class="book-card cursor-pointer rounded-lg overflow-hidden shadow-md border border-stone-200">
                        <div class="${b.color} h-24 flex items-center justify-center">
                             <h3 class="text-xl font-bold text-white text-center p-2">${b.title}</h3>
                        </div>
                        <div class="p-4 bg-white">
                            <p class="text-sm font-semibold text-stone-700">${b.author}</p>
                        </div>
                    </div>
                `).join('');
            }
            
            function showBookModal(title) {
                const book = data.books.find(b => b.title === title);
                if(book) {
                    modalBody.innerHTML = `
                        <h2 class="text-2xl font-bold text-sky-900 mb-2">${book.title}</h2>
                        <p class="text-sm font-medium text-stone-500 mb-4">por ${book.author}</p>
                        <p class="text-stone-700 mb-3">${book.summary}</p>
                        <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                             <h4 class="font-semibold text-amber-900">Aplica√ß√£o na Cobran√ßa</h4>
                             <p class="text-amber-800 text-sm">${book.relevance}</p>
                        </div>
                    `;
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                }
            }

            booksGrid.addEventListener('click', e => {
                const card = e.target.closest('[data-title]');
                if(card) {
                    showBookModal(card.dataset.title);
                }
            });

            modalClose.addEventListener('click', () => {
                 modal.classList.add('hidden');
                 modal.classList.remove('flex');
            });
            modal.addEventListener('click', e => {
                if(e.target === modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            });

            function renderCharts() {
                const ctx = document.getElementById('channelsChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: data.chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: false,
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += context.parsed.y + '% de efic√°cia estimada';
                                        }
                                        return label;
                                    }
                                }
                            },
                        },
                        scales: {
                            x: {
                                stacked: false,
                                grid: { display: false },
                                ticks: {
                                    font: { size: 10 }
                                }
                            },
                            y: {
                                stacked: false,
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Efic√°cia Estimada (%)'
                                }
                            }
                        }
                    }
                });
            }


            displayPrinciples();
            displayFunnel();
            displayBooks();
            renderCharts();
            showSection('section-fundamentos');
        });
    </script>
</body>
</html>
